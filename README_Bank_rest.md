# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏


> **–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 1 –∏—é–ª—è 2025

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º, –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Å—Ç–∞—Ç—É—Å–æ–≤ –∫–∞—Ä—Ç. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ 80% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

##  –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17+
- PostgreSQL 14+
- Maven 3.8+

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–°–æ–∑–¥–∞–π—Ç–µ `application.properties`:
```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/bankcards
spring.datasource.username=postgres
spring.datasource.password=0
spring.jpa.hibernate.ddl-auto=update

jwt.secret=your-strong-secret-key-512-bit-length
jwt.expiration-ms=900000 # 15 –º–∏–Ω
```

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
mvn clean package
java -jar target/bankcards-0.0.1-SNAPSHOT.jar
```

##  –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

###  –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç              | –û–ø–∏—Å–∞–Ω–∏–µ                | –°—Ç–∞—Ç—É—Å |
|-------|------------------------|-------------------------|--------|
| POST  | `/api/auth/login`      | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É          | ‚úÖ     |
| POST  | `/api/auth/register`   | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è| ‚úÖ     |
| POST  | `/api/auth/register-admin` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞   | ‚úÖ     |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
POST /api/auth/login
{
  "username": "user@example.com",
  "password": "password123"
}
```

###  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (ADMIN)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç              | –û–ø–∏—Å–∞–Ω–∏–µ                | –°—Ç–∞—Ç—É—Å |
|-------|------------------------|-------------------------|--------|
| GET   | `/api/users`           | –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏        | ‚úÖ     |
| GET   | `/api/users/{id}`      | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   | ‚úÖ     |
| DELETE| `/api/users/{id}`      | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    | ‚úÖ     |

###  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ                          | –î–æ—Å—Ç—É–ø | –°—Ç–∞—Ç—É—Å |
|-------|------------------------------|-----------------------------------|--------|--------|
| POST  | `/api/cards`                 | –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É                    | USER   | ‚úÖ     |
| GET   | `/api/cards`                 | –í—Å–µ –∫–∞—Ä—Ç—ã (ADMIN)                | ADMIN  | ‚úÖ     |
| GET   | `/api/cards/my`              | –ú–æ–∏ –∫–∞—Ä—Ç—ã                        | USER   | ‚úÖ     |
| GET   | `/api/cards/{id}`            | –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É –ø–æ ID              | USER   | ‚úÖ     |
| GET   | `/api/cards/user/{userId}`   | –ö–∞—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ADMIN)       | ADMIN  | ‚úÖ     |
| DELETE| `/api/cards/{id}`            | –£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É                    | USER   | ‚úÖ     |
| PATCH | `/api/cards/{id}/block`      | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É              | ‚ùå     | üöß     |
| PATCH | `/api/cards/{id}/activate`   | –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É               | ‚ùå     | üöß     |

**–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã:**
```json
POST /api/cards
Authorization: Bearer <token>
{
  "cardNumber": "4111111111111111",
  "ownerName": "IVAN IVANOV",
  "expiryDate": "2026-12-31",
  "balance": 1500.00,
  "userId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```

###  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç              | –û–ø–∏—Å–∞–Ω–∏–µ                | –î–æ—Å—Ç—É–ø | –°—Ç–∞—Ç—É—Å |
|-------|------------------------|-------------------------|--------|--------|
| POST  | `/api/transfers`       | –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥         | USER   | ‚úÖ     |
| GET   | `/api/transfers`       | –í—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã (ADMIN)    | ADMIN  | ‚úÖ     |
| GET   | `/api/transfers/user/{userId}` | –ü–µ—Ä–µ–≤–æ–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ADMIN  | ‚úÖ     |

**–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–≤–æ–¥–∞:**
```json
POST /api/transfers
Authorization: Bearer <token>
{
  "fromCardId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "toCardId": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",
  "amount": 500.00
}
```

##  –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:

```json
{
  "message": "Card not found",
  "timestamp": "2025-07-02T12:34:56Z"
}
```

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- 400 Bad Request - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- 401 Unauthorized - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- 403 Forbidden - –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω
- 404 Not Found - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- 409 Conflict - –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö
- 500 Internal Server Error - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –æ—à–∏–±–∫–∞

##  –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
1. **–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
    - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –≤ –ë–î
    - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    - Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏
    - Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç —á–µ—Ä–µ–∑ API

2. **–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∫–∞—Ä—Ç (—à–µ–¥—É–ª–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
```mermaid
graph TD
    A[Spring Boot 3] --> B[Spring Security]
    A --> C[Spring Data JPA]
    A --> D[Spring Scheduling]
    B --> E[JWT Authentication]
    C --> F[PostgreSQL]
    A --> G[Lombok]
    A --> H[Validation]
```

##  –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç
2. –î–æ–±–∞–≤–∏—Ç—å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏
4. –°–æ–∑–¥–∞—Ç—å Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–∞—Ä—Ç
6. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã


## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT —Å —Ä–æ–ª—è–º–∏ USER/ADMIN
- **–ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ö–∞—Ä—Ç—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–µ—Ä–µ–≤–æ–¥—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**:
  - –°—Ç–∞—Ç—É—Å –∫–∞—Ä—Ç—ã (–∞–∫—Ç–∏–≤–Ω–∞—è/–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è)
  - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ
  - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–ø–µ—Ä–∞—Ü–∏—è–º
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –í–æ –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ó–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Jakarta Validation
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ù–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç –≤ –æ—Ç–≤–µ—Ç–∞—Ö
- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

###  –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- **–®–µ–¥—É–ª–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤**: –¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞**: –ù–µ –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

###  –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (Swagger)
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö (Liquibase)
- Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `/api/auth/register`
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ `/api/auth/login`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`
4. –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º 
